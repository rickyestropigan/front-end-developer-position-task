import{j as e,r as c,u as A}from"./index-BDGmgByD.js";import{B as m,L as C}from"./index-BSwwEF_z.js";const P="_questionContent_i0ohx_3",E="_answers_i0ohx_21",F="_answer_i0ohx_21",B="_selected_i0ohx_61",I="_ChoiceBtn_i0ohx_71",p={questionContent:P,answers:E,answer:F,selected:B,ChoiceBtn:I};function S({question:d,option:l,name:_,selectAnswer:x}){const n=(u,r)=>{u.preventDefault(),x([r])};return e.jsxs("div",{className:p.questionContent,children:[e.jsx("h2",{children:d}),e.jsx("div",{className:p.answers,children:l.choices.map((u,r)=>e.jsx(m,{className:`${p.answer} ${Object((l==null?void 0:l.selectedAnswer)??[]).includes(r)?p.selected:""}`,onClick:v=>n(v,r),children:u}))})]})}const V="_surveyForm_w87qx_1",L="_question_w87qx_11",k="_active_w87qx_17",Q="_button_w87qx_23",D="_question3_w87qx_1",T="_email_w87qx_1",z="_tooltip_text_w87qx_71",M="_hover_text_w87qx_115",W="_top_w87qx_1",Z="_inputPosition_w87qx_141",H="_submit_w87qx_165",o={surveyForm:V,question:L,active:k,button:Q,question3:D,email:T,tooltip_text:z,hover_text:M,top:W,inputPosition:Z,submit:H},O="_progress_bar_1ofcg_1",R="_progress_1ofcg_1",w={progress_bar:O,progress:R};function U({width:d}){return e.jsx("div",{className:w.progress_bar,children:e.jsx("div",{className:w.progress,id:w.progress,style:{width:`${d}%`??"30%"}})})}function K(){const[d,l]=c.useState(!1),[_,x]=c.useState({isValid:!1,message:""}),[n,u]=c.useState([{title:"How much debt do you owe?",option:{type:"radio",name:"debt",choices:["Less than $10,000","$10,000 - $20,000","More than $20,000"]},active:!0},{title:"What is your gross annual income?",option:{type:"radio",name:"debt",choices:["Under $25,000","$25,000 - $50,000","$50,000 - $75,000","$75,000 - $100,000","More than $100,000"]}}]),[r,v]=c.useState(""),[h,q]=c.useState(0),j=A(),b=s=>{s.preventDefault();const i=n.findIndex(a=>a==null?void 0:a.active);if(n[i].option.selectedAnswer===void 0)return l(!0);const t=i+1;u(n.map((a,f)=>({...a,active:t===f})))},y=s=>{s.preventDefault();const t=n.findIndex(a=>a==null?void 0:a.active)-1;t>-1&&u(n.map((a,f)=>({...a,active:t===f})))},$=(s=[])=>{const i=n.findIndex(t=>t==null?void 0:t.active);console.log(i),console.log(s),u(n.map((t,a)=>a===i?{...t,option:{...t.option,selectedAnswer:s}}:t))},g=s=>String(s).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),N=s=>{if(r!==""&&g(r))j("/thank-you"),console.log(n);else{let i="";console.log(g(r)),g(r)===null&&r!==""?i="Invalid email input please check you email again!":i="Please fill the email field to process your form!",x({isValid:!1,message:i})}};return c.useEffect(()=>{const s=n.findIndex(t=>t==null?void 0:t.active),i=s===-1?n.length:s;q(100/n.length*i)},[n]),c.useEffect(()=>{setTimeout(()=>{l(!1)},5e3)},[d]),c.useEffect(()=>{setTimeout(()=>{x({isValid:!0,message:""})},5e3)},[_]),e.jsx(C,{navmenu:!0,footer:!0,children:e.jsxs("div",{className:"container",style:{marginTop:"10px"},children:[e.jsx("h1",{children:"Q&A Applicant"}),e.jsx(U,{width:h}),h<100&&e.jsxs("form",{id:o.surveyForm,children:[n.map((s,i)=>e.jsx("div",{className:`${o.question} ${s.active?o.active:""}`,id:o.question1,children:e.jsx(S,{question:s.title,option:s.option,selectAnswer:$})},i)),h>0&&e.jsx(m,{className:o.button,variant:"primary",onClick:y,children:"Previous"}),d&&e.jsx("div",{className:o.hover_text,children:e.jsx("span",{className:o.tooltip_text,id:o.top,children:"Choose an answer to move to the next question."})}),e.jsx(m,{variant:"primary",onClick:b,children:"Next"})]}),h===100&&e.jsx(e.Fragment,{children:e.jsxs("div",{id:o.question3,children:[e.jsx("h2",{for:"email",children:"What's your email?"}),!_.isValid&&e.jsx("div",{className:`${o.hover_text} ${o.inputPosition}`,children:e.jsx("span",{className:o.tooltip_text,id:o.top,children:_.message})}),e.jsx("input",{type:"email",placeholder:"Email",id:o.email,name:"email",onChange:s=>v(s.target.value),required:!0}),e.jsx(m,{className:o.submit,variant:"primary",onClick:N,children:"Submit"})]})})]})})}export{K as default};
